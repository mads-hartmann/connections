; Generate OCaml module from schema.sql at build time (similar to Go embed)
(rule
 (target schema_sql.ml)
 (deps schema.sql)
 (action
  (with-stdout-to %{target}
   (progn
    (echo "let content = {|")
    (cat schema.sql)
    (echo "|}")))))
